<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="recipe_info">
	<insert id="insertInfo" parameterType="hashmap">
		insert into recipe_info 
		values(recipe_info_seq.nextval,#{id},#{title},#{info},#{cate},#{portion},#{time},#{items},#{iphoto},0)
	</insert>
	
	<select id="selectInfoNo" resultType="java.lang.Integer">
		select no from recipe_info where iphoto=#{iphoto}
	</select>
	
	<select id="selectInfo" resultType="hashmap">
		select * from recipe_info 
		<where>
			<if test="no != null">
				no=#{no}
			</if>
		</where>
	</select>
	
	<select id="selectInfoForList" resultType="hashmap">
		select * from recipe_info order by no desc
	</select>
	
	<update id="authRecipe">
		update recipe_info set right=1 where no=#{no}
	</update>
	
</mapper>